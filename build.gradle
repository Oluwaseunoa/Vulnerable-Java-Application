plugins {
    id "java"
    id "org.sonarqube" version "4.4.1.3373"  // Latest SonarQube plugin as of 2023
}

// Basic Java project configuration
java {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

// SonarQube configuration
sonarqube {
    properties {
        // Required properties
        property "sonar.projectKey", "seun-technologies1"  // Replace with your SonarCloud project key
        property "sonar.organization", "Seun Technologies"    // Your exact organization name
        property "sonar.host.url", "https://sonarcloud.io"
        
        // Java-specific properties
        property "sonar.java.binaries", "build/classes"
        property "sonar.java.source", "11"
        property "sonar.java.libraries", "build/libs/*.jar"
        
        // Quality analysis settings
        property "sonar.sourceEncoding", "UTF-8"
        property "sonar.exclusions", "**/test/**, **/generated/**"  // Exclude test and generated files
        property "sonar.coverage.exclusions", "**/test/**"
        
        // Vulnerability scanning enhancements
        property "sonar.security", "owasp"  // Enable OWASP security rules
        property "sonar.cpd.exclusions", "**/model/**"  // Exclude duplicates in model classes
    }
}

// Optional: Add dependencies for security analysis
dependencies {
    // Add your project dependencies here
    // Example: implementation 'org.springframework.boot:spring-boot-starter-web:2.7.0'
}